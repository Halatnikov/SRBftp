var _excluded=["message","explanation"];function _toArray(r){return _arrayWithHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableRest();}
function _regeneratorKeys(e){var n=Object(e),r=[];for(var t in n)r.unshift(t);return function e(){for(;r.length;)if((t=r.pop())in n)return e.value=t,e.done=!1,e;return e.done=!0,e;};}
function _regeneratorValues(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function next(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e};}};}throw new TypeError(_typeof(e)+" is not iterable");}
function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1;}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r;}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return;}finally{if(o)throw n;}}return a;}}
function _arrayWithHoles(r){if(Array.isArray(r))return r;}
function _regenerator(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof Generator?n:Generator,u=Object.create(c.prototype);return _regeneratorDefine2(u,"_invoke",function(r,n,o){var i,c,u,f=0,p=o||[],y=!1,G={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function d(t,r){return i=t,c=0,u=e,G.n=r,a;}};function d(r,n){for(c=r,u=n,t=0;!y&&f&&!o&&t<p.length;t++){var o,i=p[t],d=G.p,l=i[2];r>3?(o=l===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,G.v=n,G.n=i[1]):d<l&&(o=r<3||i[0]>n||n>l)&&(i[4]=r,i[5]=n,G.n=l,c=0));}if(o||r>1)return a;throw y=!0,n;}return function(o,p,l){if(f>1)throw TypeError("Generator is already running");for(y&&1===p&&d(p,l),c=p,u=l;(t=c<2?e:u)||!y;){i||(c?c<3?(c>1&&(G.n=-1),d(c,u)):G.n=u:G.v=u);try{if(f=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0);}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e;}else if((t=(y=G.n<0)?u:r.call(n,G))!==a)break;}catch(t){i=e,c=1,u=t;}finally{f=1;}}return{value:t,done:y};};}(r,o,i),!0),u;}var a={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(_regeneratorDefine2(t={},n,function(){return this;}),t),u=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e;}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(u,"constructor",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",_regeneratorDefine2(GeneratorFunctionPrototype,o,"GeneratorFunction"),_regeneratorDefine2(u),_regeneratorDefine2(u,o,"Generator"),_regeneratorDefine2(u,n,function(){return this;}),_regeneratorDefine2(u,"toString",function(){return"[object Generator]";}),(_regenerator=function _regenerator(){return{w:i,m:f};})();}
function _regeneratorDefine2(e,r,n,t){var i=Object.defineProperty;try{i({},"",{});}catch(e){i=0;}_regeneratorDefine2=function _regeneratorDefine(e,r,n,t){if(r)i?i(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n;else{var o=function o(r,n){_regeneratorDefine2(e,r,function(e){return this._invoke(r,n,e);});};o("next",0),o("throw",1),o("return",2);}},_regeneratorDefine2(e,r,n,t);}
function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]};},e:function e(r){throw r;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,a=!0,u=!1;return{s:function s(){t=t.call(r);},n:function n(){var r=t.next();return a=r.done,r;},e:function e(r){u=!0,o=r;},f:function f(){try{a||null==t.return||t.return();}finally{if(u)throw o;}}};}
function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}
function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}
function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e;}
function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread();}
function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0;}}
function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r);}
function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r);}
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n;}
function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o]);}return i;}
function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n];}return t;}
function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o);}}
function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;}
function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+"";}
function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t);}
function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}
function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e));}
function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t);}
function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e;}
function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e);}
function _wrapNativeSuper(t){var r="function"==typeof Map?new Map():void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper);}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor);}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t);},_wrapNativeSuper(t);}
function _construct(t,e,r){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var p=new(t.bind.apply(t,o))();return r&&_setPrototypeOf(p,r.prototype),p;}
function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t;})();}
function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]");}catch(n){return"function"==typeof t;}}
function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t;},_setPrototypeOf(t,e);}
function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t);},_getPrototypeOf(t);}
function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o;}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o;},_typeof(o);}
(function(global,factory){(typeof exports==="undefined"?"undefined":_typeof(exports))==='object'&&typeof module!=='undefined'?factory(exports):typeof define==='function'&&define.amd?define(['exports'],factory):(global=typeof globalThis!=='undefined'?globalThis:global||self,factory(global.Superstruct={}));})(this,function(exports){'use strict';var _marked=_regenerator().m(toFailures);var StructError=function(_TypeError){function StructError(failure,failures){var _this;_classCallCheck(this,StructError);var cached;var message=failure.message,explanation=failure.explanation,rest=_objectWithoutProperties(failure,_excluded);var path=failure.path;var msg=path.length===0?message:"At path: ".concat(path.join('.')," -- ").concat(message);_this=_callSuper(this,StructError,[explanation!==null&&explanation!==void 0?explanation:msg]);if(explanation!=null)_this.cause=msg;Object.assign(_this,rest);_this.name=_this.constructor.name;_this.failures=function(){return cached!==null&&cached!==void 0?cached:cached=[failure].concat(_toConsumableArray(failures()));};return _this;}
_inherits(StructError,_TypeError);return _createClass(StructError);}(_wrapNativeSuper(TypeError));function isIterable(x){return isObject(x)&&typeof x[Symbol.iterator]==='function';}
function isObject(x){return _typeof(x)==='object'&&x!=null;}
function isNonArrayObject(x){return isObject(x)&&!Array.isArray(x);}
function isPlainObject(x){if(Object.prototype.toString.call(x)!=='[object Object]'){return false;}
var prototype=Object.getPrototypeOf(x);return prototype===null||prototype===Object.prototype;}
function print(value){if(_typeof(value)==='symbol'){return value.toString();}
return typeof value==='string'?JSON.stringify(value):"".concat(value);}
function shiftIterator(input){var _input$next=input.next(),done=_input$next.done,value=_input$next.value;return done?undefined:value;}
function toFailure(result,context,struct,value){if(result===true){return;}else if(result===false){result={};}else if(typeof result==='string'){result={message:result};}
var path=context.path,branch=context.branch;var type=struct.type;var _result=result,refinement=_result.refinement,_result$message=_result.message,message=_result$message===void 0?"Expected a value of type `".concat(type,"`").concat(refinement?"with refinement `".concat(refinement,"`"):'',",but received:`").concat(print(value),"`"):_result$message;return _objectSpread(_objectSpread({value:value,type:type,refinement:refinement,key:path[path.length-1],path:path,branch:branch},result),{},{message:message});}
function toFailures(result,context,struct,value){var _iterator,_step,r,failure,_t;return _regenerator().w(function(_context){while(1)switch(_context.n){case 0:if(!isIterable(result)){result=[result];}
_iterator=_createForOfIteratorHelper(result);_context.p=1;_iterator.s();case 2:if((_step=_iterator.n()).done){_context.n=4;break;}
r=_step.value;failure=toFailure(r,context,struct,value);if(!failure){_context.n=3;break;}
_context.n=3;return failure;case 3:_context.n=2;break;case 4:_context.n=6;break;case 5:_context.p=5;_t=_context.v;_iterator.e(_t);case 6:_context.p=6;_iterator.f();return _context.f(6);case 7:return _context.a(2);}},_marked,null,[[1,5,6,7]]);}
function run(value,struct){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return _regenerator().m(function _callee(){var _options$path,path,_options$branch,branch,_options$coerce,coerce,_options$mask,mask,ctx,status,_iterator2,_step2,_failure,_iterator3,_step3,_step3$value,k,v,s,ts,_iterator5,_step5,t,_iterator4,_step4,failure,_t2,_t3,_t4,_t5;return _regenerator().w(function(_context2){while(1)switch(_context2.n){case 0:_options$path=options.path,path=_options$path===void 0?[]:_options$path,_options$branch=options.branch,branch=_options$branch===void 0?[value]:_options$branch,_options$coerce=options.coerce,coerce=_options$coerce===void 0?false:_options$coerce,_options$mask=options.mask,mask=_options$mask===void 0?false:_options$mask;ctx={path:path,branch:branch,mask:mask};if(coerce){value=struct.coercer(value,ctx);}
status='valid';_iterator2=_createForOfIteratorHelper(struct.validator(value,ctx));_context2.p=1;_iterator2.s();case 2:if((_step2=_iterator2.n()).done){_context2.n=4;break;}
_failure=_step2.value;_failure.explanation=options.message;status='not_valid';_context2.n=3;return[_failure,undefined];case 3:_context2.n=2;break;case 4:_context2.n=6;break;case 5:_context2.p=5;_t2=_context2.v;_iterator2.e(_t2);case 6:_context2.p=6;_iterator2.f();return _context2.f(6);case 7:_iterator3=_createForOfIteratorHelper(struct.entries(value,ctx));_context2.p=8;_iterator3.s();case 9:if((_step3=_iterator3.n()).done){_context2.n=19;break;}
_step3$value=_slicedToArray(_step3.value,3),k=_step3$value[0],v=_step3$value[1],s=_step3$value[2];ts=run(v,s,{path:k===undefined?path:[].concat(_toConsumableArray(path),[k]),branch:k===undefined?branch:[].concat(_toConsumableArray(branch),[v]),coerce:coerce,mask:mask,message:options.message});_iterator5=_createForOfIteratorHelper(ts);_context2.p=10;_iterator5.s();case 11:if((_step5=_iterator5.n()).done){_context2.n=15;break;}
t=_step5.value;if(!t[0]){_context2.n=13;break;}
status=t[0].refinement!=null?'not_refined':'not_valid';_context2.n=12;return[t[0],undefined];case 12:_context2.n=14;break;case 13:if(coerce){v=t[1];if(k===undefined){value=v;}else if(value instanceof Map){value.set(k,v);}else if(value instanceof Set){value.add(v);}else if(isObject(value)){if(v!==undefined||k in value)value[k]=v;}}
case 14:_context2.n=11;break;case 15:_context2.n=17;break;case 16:_context2.p=16;_t3=_context2.v;_iterator5.e(_t3);case 17:_context2.p=17;_iterator5.f();return _context2.f(17);case 18:_context2.n=9;break;case 19:_context2.n=21;break;case 20:_context2.p=20;_t4=_context2.v;_iterator3.e(_t4);case 21:_context2.p=21;_iterator3.f();return _context2.f(21);case 22:if(!(status!=='not_valid')){_context2.n=29;break;}
_iterator4=_createForOfIteratorHelper(struct.refiner(value,ctx));_context2.p=23;_iterator4.s();case 24:if((_step4=_iterator4.n()).done){_context2.n=26;break;}
failure=_step4.value;failure.explanation=options.message;status='not_refined';_context2.n=25;return[failure,undefined];case 25:_context2.n=24;break;case 26:_context2.n=28;break;case 27:_context2.p=27;_t5=_context2.v;_iterator4.e(_t5);case 28:_context2.p=28;_iterator4.f();return _context2.f(28);case 29:if(!(status==='valid')){_context2.n=30;break;}
_context2.n=30;return[undefined,value];case 30:return _context2.a(2);}},_callee,null,[[23,27,28,29],[10,16,17,18],[8,20,21,22],[1,5,6,7]]);})();}
var Struct=function(){function Struct(props){var _this2=this;_classCallCheck(this,Struct);var type=props.type,schema=props.schema,validator=props.validator,refiner=props.refiner,_props$coercer=props.coercer,coercer=_props$coercer===void 0?function(value){return value;}:_props$coercer,_props$entries=props.entries,entries=_props$entries===void 0?_regenerator().m(function _callee2(){return _regenerator().w(function(_context3){while(1)switch(_context3.n){case 0:return _context3.a(2);}},_callee2);}):_props$entries;this.type=type;this.schema=schema;this.entries=entries;this.coercer=coercer;if(validator){this.validator=function(value,context){var result=validator(value,context);return toFailures(result,context,_this2,value);};}else{this.validator=function(){return[];};}
if(refiner){this.refiner=function(value,context){var result=refiner(value,context);return toFailures(result,context,_this2,value);};}else{this.refiner=function(){return[];};}}
return _createClass(Struct,[{key:"assert",value:function assert(value,message){return _assert(value,this,message);}},{key:"create",value:function create(value,message){return _create(value,this,message);}},{key:"is",value:function is(value){return _is(value,this);}},{key:"mask",value:function mask(value,message){return _mask(value,this,message);}},{key:"validate",value:function validate(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return _validate(value,this,options);}}]);}();function _assert(value,struct,message){var result=_validate(value,struct,{message:message});if(result[0]){throw result[0];}}
function _create(value,struct,message){var result=_validate(value,struct,{coerce:true,message:message});if(result[0]){throw result[0];}else{return result[1];}}
function _mask(value,struct,message){var result=_validate(value,struct,{coerce:true,mask:true,message:message});if(result[0]){throw result[0];}else{return result[1];}}
function _is(value,struct){var result=_validate(value,struct);return!result[0];}
function _validate(value,struct){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var tuples=run(value,struct,options);var tuple=shiftIterator(tuples);if(tuple[0]){var error=new StructError(tuple[0],_regenerator().m(function _callee3(){var _iterator6,_step6,t,_t6;return _regenerator().w(function(_context4){while(1)switch(_context4.n){case 0:_iterator6=_createForOfIteratorHelper(tuples);_context4.p=1;_iterator6.s();case 2:if((_step6=_iterator6.n()).done){_context4.n=4;break;}
t=_step6.value;if(!t[0]){_context4.n=3;break;}
_context4.n=3;return t[0];case 3:_context4.n=2;break;case 4:_context4.n=6;break;case 5:_context4.p=5;_t6=_context4.v;_iterator6.e(_t6);case 6:_context4.p=6;_iterator6.f();return _context4.f(6);case 7:return _context4.a(2);}},_callee3,null,[[1,5,6,7]]);}));return[error,undefined];}else{var v=tuple[1];return[undefined,v];}}
function assign(){for(var _len=arguments.length,Structs=new Array(_len),_key=0;_key<_len;_key++){Structs[_key]=arguments[_key];}
var isType=Structs[0].type==='type';var schemas=Structs.map(function(s){return s.schema;});var schema=Object.assign.apply(Object,[{}].concat(_toConsumableArray(schemas)));return isType?type(schema):object(schema);}
function define(name,validator){return new Struct({type:name,schema:null,validator:validator});}
function deprecated(struct,log){return new Struct(_objectSpread(_objectSpread({},struct),{},{refiner:function refiner(value,ctx){return value===undefined||struct.refiner(value,ctx);},validator:function validator(value,ctx){if(value===undefined){return true;}else{log(value,ctx);return struct.validator(value,ctx);}}}));}
function dynamic(fn){return new Struct({type:'dynamic',schema:null,entries:_regenerator().m(function entries(value,ctx){var struct;return _regenerator().w(function(_context5){while(1)switch(_context5.n){case 0:struct=fn(value,ctx);return _context5.d(_regeneratorValues(struct.entries(value,ctx)),1);case 1:return _context5.a(2);}},entries);}),validator:function validator(value,ctx){var struct=fn(value,ctx);return struct.validator(value,ctx);},coercer:function coercer(value,ctx){var struct=fn(value,ctx);return struct.coercer(value,ctx);},refiner:function refiner(value,ctx){var struct=fn(value,ctx);return struct.refiner(value,ctx);}});}
function lazy(fn){var struct;return new Struct({type:'lazy',schema:null,entries:_regenerator().m(function entries(value,ctx){return _regenerator().w(function(_context6){while(1)switch(_context6.n){case 0:struct!==null&&struct!==void 0?struct:struct=fn();return _context6.d(_regeneratorValues(struct.entries(value,ctx)),1);case 1:return _context6.a(2);}},entries);}),validator:function validator(value,ctx){struct!==null&&struct!==void 0?struct:struct=fn();return struct.validator(value,ctx);},coercer:function coercer(value,ctx){struct!==null&&struct!==void 0?struct:struct=fn();return struct.coercer(value,ctx);},refiner:function refiner(value,ctx){struct!==null&&struct!==void 0?struct:struct=fn();return struct.refiner(value,ctx);}});}
function omit(struct,keys){var schema=struct.schema;var subschema=_objectSpread({},schema);var _iterator7=_createForOfIteratorHelper(keys),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var key=_step7.value;delete subschema[key];}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}
switch(struct.type){case'type':return type(subschema);default:return object(subschema);}}
function partial(struct){var isStruct=struct instanceof Struct;var schema=isStruct?_objectSpread({},struct.schema):_objectSpread({},struct);for(var key in schema){schema[key]=optional(schema[key]);}
if(isStruct&&struct.type==='type'){return type(schema);}
return object(schema);}
function pick(struct,keys){var schema=struct.schema;var subschema={};var _iterator8=_createForOfIteratorHelper(keys),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var key=_step8.value;subschema[key]=schema[key];}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}
switch(struct.type){case'type':return type(subschema);default:return object(subschema);}}
function struct(name,validator){console.warn('superstruct@0.11 - The `struct` helper has been renamed to `define`.');return define(name,validator);}
function any(){return define('any',function(){return true;});}
function array(Element){return new Struct({type:'array',schema:Element,entries:_regenerator().m(function entries(value){var _iterator9,_step9,_step9$value,i,v,_t7;return _regenerator().w(function(_context7){while(1)switch(_context7.n){case 0:if(!(Element&&Array.isArray(value))){_context7.n=7;break;}
_iterator9=_createForOfIteratorHelper(value.entries());_context7.p=1;_iterator9.s();case 2:if((_step9=_iterator9.n()).done){_context7.n=4;break;}
_step9$value=_slicedToArray(_step9.value,2),i=_step9$value[0],v=_step9$value[1];_context7.n=3;return[i,v,Element];case 3:_context7.n=2;break;case 4:_context7.n=6;break;case 5:_context7.p=5;_t7=_context7.v;_iterator9.e(_t7);case 6:_context7.p=6;_iterator9.f();return _context7.f(6);case 7:return _context7.a(2);}},entries,null,[[1,5,6,7]]);}),coercer:function coercer(value){return Array.isArray(value)?value.slice():value;},validator:function validator(value){return Array.isArray(value)||"Expected an array value, but received: ".concat(print(value));}});}
function bigint(){return define('bigint',function(value){return typeof value==='bigint';});}
function boolean(){return define('boolean',function(value){return typeof value==='boolean';});}
function date(){return define('date',function(value){return value instanceof Date&&!isNaN(value.getTime())||"Expected a valid `Date` object, but received: ".concat(print(value));});}
function enums(values){var schema={};var description=values.map(function(v){return print(v);}).join();var _iterator0=_createForOfIteratorHelper(values),_step0;try{for(_iterator0.s();!(_step0=_iterator0.n()).done;){var key=_step0.value;schema[key]=key;}}catch(err){_iterator0.e(err);}finally{_iterator0.f();}
return new Struct({type:'enums',schema:schema,validator:function validator(value){return values.includes(value)||"Expected one of `".concat(description,"`, but received: ").concat(print(value));}});}
function func(){return define('func',function(value){return typeof value==='function'||"Expected a function, but received: ".concat(print(value));});}
function instance(Class){return define('instance',function(value){return value instanceof Class||"Expected a `".concat(Class.name,"` instance, but received: ").concat(print(value));});}
function integer(){return define('integer',function(value){return typeof value==='number'&&!isNaN(value)&&Number.isInteger(value)||"Expected an integer, but received: ".concat(print(value));});}
function intersection(Structs){return new Struct({type:'intersection',schema:null,entries:_regenerator().m(function entries(value,ctx){var _iterator1,_step1,S,_t8;return _regenerator().w(function(_context8){while(1)switch(_context8.n){case 0:_iterator1=_createForOfIteratorHelper(Structs);_context8.p=1;_iterator1.s();case 2:if((_step1=_iterator1.n()).done){_context8.n=4;break;}
S=_step1.value;return _context8.d(_regeneratorValues(S.entries(value,ctx)),3);case 3:_context8.n=2;break;case 4:_context8.n=6;break;case 5:_context8.p=5;_t8=_context8.v;_iterator1.e(_t8);case 6:_context8.p=6;_iterator1.f();return _context8.f(6);case 7:return _context8.a(2);}},entries,null,[[1,5,6,7]]);}),validator:_regenerator().m(function validator(value,ctx){var _iterator10,_step10,S,_t9;return _regenerator().w(function(_context9){while(1)switch(_context9.n){case 0:_iterator10=_createForOfIteratorHelper(Structs);_context9.p=1;_iterator10.s();case 2:if((_step10=_iterator10.n()).done){_context9.n=4;break;}
S=_step10.value;return _context9.d(_regeneratorValues(S.validator(value,ctx)),3);case 3:_context9.n=2;break;case 4:_context9.n=6;break;case 5:_context9.p=5;_t9=_context9.v;_iterator10.e(_t9);case 6:_context9.p=6;_iterator10.f();return _context9.f(6);case 7:return _context9.a(2);}},validator,null,[[1,5,6,7]]);}),refiner:_regenerator().m(function refiner(value,ctx){var _iterator11,_step11,S,_t0;return _regenerator().w(function(_context0){while(1)switch(_context0.n){case 0:_iterator11=_createForOfIteratorHelper(Structs);_context0.p=1;_iterator11.s();case 2:if((_step11=_iterator11.n()).done){_context0.n=4;break;}
S=_step11.value;return _context0.d(_regeneratorValues(S.refiner(value,ctx)),3);case 3:_context0.n=2;break;case 4:_context0.n=6;break;case 5:_context0.p=5;_t0=_context0.v;_iterator11.e(_t0);case 6:_context0.p=6;_iterator11.f();return _context0.f(6);case 7:return _context0.a(2);}},refiner,null,[[1,5,6,7]]);})});}
function literal(constant){var description=print(constant);var t=_typeof(constant);return new Struct({type:'literal',schema:t==='string'||t==='number'||t==='boolean'?constant:null,validator:function validator(value){return value===constant||"Expected the literal `".concat(description,"`, but received: ").concat(print(value));}});}
function map(Key,Value){return new Struct({type:'map',schema:null,entries:_regenerator().m(function entries(value){var _iterator12,_step12,_step12$value,k,v,_t1;return _regenerator().w(function(_context1){while(1)switch(_context1.n){case 0:if(!(Key&&Value&&value instanceof Map)){_context1.n=8;break;}
_iterator12=_createForOfIteratorHelper(value.entries());_context1.p=1;_iterator12.s();case 2:if((_step12=_iterator12.n()).done){_context1.n=5;break;}
_step12$value=_slicedToArray(_step12.value,2),k=_step12$value[0],v=_step12$value[1];_context1.n=3;return[k,k,Key];case 3:_context1.n=4;return[k,v,Value];case 4:_context1.n=2;break;case 5:_context1.n=7;break;case 6:_context1.p=6;_t1=_context1.v;_iterator12.e(_t1);case 7:_context1.p=7;_iterator12.f();return _context1.f(7);case 8:return _context1.a(2);}},entries,null,[[1,6,7,8]]);}),coercer:function coercer(value){return value instanceof Map?new Map(value):value;},validator:function validator(value){return value instanceof Map||"Expected a `Map` object, but received: ".concat(print(value));}});}
function never(){return define('never',function(){return false;});}
function nullable(struct){return new Struct(_objectSpread(_objectSpread({},struct),{},{validator:function validator(value,ctx){return value===null||struct.validator(value,ctx);},refiner:function refiner(value,ctx){return value===null||struct.refiner(value,ctx);}}));}
function number(){return define('number',function(value){return typeof value==='number'&&!isNaN(value)||"Expected a number, but received: ".concat(print(value));});}
function object(schema){var knowns=schema?Object.keys(schema):[];var Never=never();return new Struct({type:'object',schema:schema?schema:null,entries:_regenerator().m(function entries(value){var unknowns,_iterator13,_step13,key,_iterator14,_step14,_key2,_t10,_t11;return _regenerator().w(function(_context10){while(1)switch(_context10.n){case 0:if(!(schema&&isObject(value))){_context10.n=14;break;}
unknowns=new Set(Object.keys(value));_iterator13=_createForOfIteratorHelper(knowns);_context10.p=1;_iterator13.s();case 2:if((_step13=_iterator13.n()).done){_context10.n=4;break;}
key=_step13.value;unknowns.delete(key);_context10.n=3;return[key,value[key],schema[key]];case 3:_context10.n=2;break;case 4:_context10.n=6;break;case 5:_context10.p=5;_t10=_context10.v;_iterator13.e(_t10);case 6:_context10.p=6;_iterator13.f();return _context10.f(6);case 7:_iterator14=_createForOfIteratorHelper(unknowns);_context10.p=8;_iterator14.s();case 9:if((_step14=_iterator14.n()).done){_context10.n=11;break;}
_key2=_step14.value;_context10.n=10;return[_key2,value[_key2],Never];case 10:_context10.n=9;break;case 11:_context10.n=13;break;case 12:_context10.p=12;_t11=_context10.v;_iterator14.e(_t11);case 13:_context10.p=13;_iterator14.f();return _context10.f(13);case 14:return _context10.a(2);}},entries,null,[[8,12,13,14],[1,5,6,7]]);}),validator:function validator(value){return isNonArrayObject(value)||"Expected an object, but received: ".concat(print(value));},coercer:function coercer(value,ctx){if(!isNonArrayObject(value)){return value;}
var coerced=_objectSpread({},value);if(ctx.mask&&schema){for(var key in coerced){if(schema[key]===undefined){delete coerced[key];}}}
return coerced;}});}
function optional(struct){return new Struct(_objectSpread(_objectSpread({},struct),{},{validator:function validator(value,ctx){return value===undefined||struct.validator(value,ctx);},refiner:function refiner(value,ctx){return value===undefined||struct.refiner(value,ctx);}}));}
function record(Key,Value){return new Struct({type:'record',schema:null,entries:_regenerator().m(function entries(value){var k,v,_t12,_t13;return _regenerator().w(function(_context11){while(1)switch(_context11.n){case 0:if(!isObject(value)){_context11.n=4;break;}
_t12=_regeneratorKeys(value);case 1:if((_t13=_t12()).done){_context11.n=4;break;}
k=_t13.value;v=value[k];_context11.n=2;return[k,k,Key];case 2:_context11.n=3;return[k,v,Value];case 3:_context11.n=1;break;case 4:return _context11.a(2);}},entries);}),validator:function validator(value){return isNonArrayObject(value)||"Expected an object, but received: ".concat(print(value));},coercer:function coercer(value){return isNonArrayObject(value)?_objectSpread({},value):value;}});}
function regexp(){return define('regexp',function(value){return value instanceof RegExp;});}
function set(Element){return new Struct({type:'set',schema:null,entries:_regenerator().m(function entries(value){var _iterator15,_step15,v,_t14;return _regenerator().w(function(_context12){while(1)switch(_context12.n){case 0:if(!(Element&&value instanceof Set)){_context12.n=7;break;}
_iterator15=_createForOfIteratorHelper(value);_context12.p=1;_iterator15.s();case 2:if((_step15=_iterator15.n()).done){_context12.n=4;break;}
v=_step15.value;_context12.n=3;return[v,v,Element];case 3:_context12.n=2;break;case 4:_context12.n=6;break;case 5:_context12.p=5;_t14=_context12.v;_iterator15.e(_t14);case 6:_context12.p=6;_iterator15.f();return _context12.f(6);case 7:return _context12.a(2);}},entries,null,[[1,5,6,7]]);}),coercer:function coercer(value){return value instanceof Set?new Set(value):value;},validator:function validator(value){return value instanceof Set||"Expected a `Set` object, but received: ".concat(print(value));}});}
function string(){return define('string',function(value){return typeof value==='string'||"Expected a string, but received: ".concat(print(value));});}
function tuple(Structs){var Never=never();return new Struct({type:'tuple',schema:null,entries:_regenerator().m(function entries(value){var length,i;return _regenerator().w(function(_context13){while(1)switch(_context13.n){case 0:if(!Array.isArray(value)){_context13.n=3;break;}
length=Math.max(Structs.length,value.length);i=0;case 1:if(!(i<length)){_context13.n=3;break;}
_context13.n=2;return[i,value[i],Structs[i]||Never];case 2:i++;_context13.n=1;break;case 3:return _context13.a(2);}},entries);}),validator:function validator(value){return Array.isArray(value)||"Expected an array, but received: ".concat(print(value));},coercer:function coercer(value){return Array.isArray(value)?value.slice():value;}});}
function type(schema){var keys=Object.keys(schema);return new Struct({type:'type',schema:schema,entries:_regenerator().m(function entries(value){var _i,_keys,k;return _regenerator().w(function(_context14){while(1)switch(_context14.n){case 0:if(!isObject(value)){_context14.n=3;break;}
_i=0,_keys=keys;case 1:if(!(_i<_keys.length)){_context14.n=3;break;}
k=_keys[_i];_context14.n=2;return[k,value[k],schema[k]];case 2:_i++;_context14.n=1;break;case 3:return _context14.a(2);}},entries);}),validator:function validator(value){return isNonArrayObject(value)||"Expected an object, but received: ".concat(print(value));},coercer:function coercer(value){return isNonArrayObject(value)?_objectSpread({},value):value;}});}
function union(Structs){var description=Structs.map(function(s){return s.type;}).join(' | ');return new Struct({type:'union',schema:null,coercer:function coercer(value,ctx){var _iterator16=_createForOfIteratorHelper(Structs),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var S=_step16.value;var _S$validate=S.validate(value,{coerce:true,mask:ctx.mask}),_S$validate2=_slicedToArray(_S$validate,2),error=_S$validate2[0],coerced=_S$validate2[1];if(!error){return coerced;}}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}
return value;},validator:function validator(value,ctx){var failures=[];var _iterator17=_createForOfIteratorHelper(Structs),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var S=_step17.value;var _run=run(value,S,ctx),_run2=_toArray(_run),tuples=_run2.slice(0);var _tuples=_slicedToArray(tuples,1),first=_tuples[0];if(!first[0]){return[];}else{var _iterator18=_createForOfIteratorHelper(tuples),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _step18$value=_slicedToArray(_step18.value,1),failure=_step18$value[0];if(failure){failures.push(failure);}}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}}}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}
return["Expected the value to satisfy a union of `".concat(description,"`, but received: ").concat(print(value))].concat(failures);}});}
function unknown(){return define('unknown',function(){return true;});}
function coerce(struct,condition,_coercer){return new Struct(_objectSpread(_objectSpread({},struct),{},{coercer:function coercer(value,ctx){return _is(value,condition)?struct.coercer(_coercer(value,ctx),ctx):struct.coercer(value,ctx);}}));}
function defaulted(struct,fallback){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return coerce(struct,unknown(),function(x){var f=typeof fallback==='function'?fallback():fallback;if(x===undefined){return f;}
if(!options.strict&&isPlainObject(x)&&isPlainObject(f)){var ret=_objectSpread({},x);var changed=false;for(var key in f){if(ret[key]===undefined){ret[key]=f[key];changed=true;}}
if(changed){return ret;}}
return x;});}
function trimmed(struct){return coerce(struct,string(),function(x){return x.trim();});}
function empty(struct){return refine(struct,'empty',function(value){var size=getSize(value);return size===0||"Expected an empty ".concat(struct.type," but received one with a size of `").concat(size,"`");});}
function getSize(value){if(value instanceof Map||value instanceof Set){return value.size;}else{return value.length;}}
function max(struct,threshold){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var exclusive=options.exclusive;return refine(struct,'max',function(value){return exclusive?value<threshold:value<=threshold||"Expected a ".concat(struct.type," less than ").concat(exclusive?'':'or equal to ').concat(threshold," but received `").concat(value,"`");});}
function min(struct,threshold){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var exclusive=options.exclusive;return refine(struct,'min',function(value){return exclusive?value>threshold:value>=threshold||"Expected a ".concat(struct.type," greater than ").concat(exclusive?'':'or equal to ').concat(threshold," but received `").concat(value,"`");});}
function nonempty(struct){return refine(struct,'nonempty',function(value){var size=getSize(value);return size>0||"Expected a nonempty ".concat(struct.type," but received an empty one");});}
function pattern(struct,regexp){return refine(struct,'pattern',function(value){return regexp.test(value)||"Expected a ".concat(struct.type," matching `/").concat(regexp.source,"/` but received \"").concat(value,"\"");});}
function size(struct,min){var max=arguments.length>2&&arguments[2]!==undefined?arguments[2]:min;var expected="Expected a ".concat(struct.type);var of=min===max?"of `".concat(min,"`"):"between `".concat(min,"` and `").concat(max,"`");return refine(struct,'size',function(value){if(typeof value==='number'||value instanceof Date){return min<=value&&value<=max||"".concat(expected," ").concat(of," but received `").concat(value,"`");}else if(value instanceof Map||value instanceof Set){var _size=value.size;return min<=_size&&_size<=max||"".concat(expected," with a size ").concat(of," but received one with a size of `").concat(_size,"`");}else{var length=value.length;return min<=length&&length<=max||"".concat(expected," with a length ").concat(of," but received one with a length of `").concat(length,"`");}});}
function refine(struct,name,_refiner){return new Struct(_objectSpread(_objectSpread({},struct),{},{refiner:_regenerator().m(function refiner(value,ctx){var result,failures,_iterator19,_step19,failure,_t15;return _regenerator().w(function(_context15){while(1)switch(_context15.n){case 0:return _context15.d(_regeneratorValues(struct.refiner(value,ctx)),1);case 1:result=_refiner(value,ctx);failures=toFailures(result,ctx,struct,value);_iterator19=_createForOfIteratorHelper(failures);_context15.p=2;_iterator19.s();case 3:if((_step19=_iterator19.n()).done){_context15.n=5;break;}
failure=_step19.value;_context15.n=4;return _objectSpread(_objectSpread({},failure),{},{refinement:name});case 4:_context15.n=3;break;case 5:_context15.n=7;break;case 6:_context15.p=6;_t15=_context15.v;_iterator19.e(_t15);case 7:_context15.p=7;_iterator19.f();return _context15.f(7);case 8:return _context15.a(2);}},refiner,null,[[2,6,7,8]]);})}));}
exports.Struct=Struct;exports.StructError=StructError;exports.any=any;exports.array=array;exports.assert=_assert;exports.assign=assign;exports.bigint=bigint;exports.boolean=boolean;exports.coerce=coerce;exports.create=_create;exports.date=date;exports.defaulted=defaulted;exports.define=define;exports.deprecated=deprecated;exports.dynamic=dynamic;exports.empty=empty;exports.enums=enums;exports.func=func;exports.instance=instance;exports.integer=integer;exports.intersection=intersection;exports.is=_is;exports.lazy=lazy;exports.literal=literal;exports.map=map;exports.mask=_mask;exports.max=max;exports.min=min;exports.never=never;exports.nonempty=nonempty;exports.nullable=nullable;exports.number=number;exports.object=object;exports.omit=omit;exports.optional=optional;exports.partial=partial;exports.pattern=pattern;exports.pick=pick;exports.record=record;exports.refine=refine;exports.regexp=regexp;exports.set=set;exports.size=size;exports.string=string;exports.struct=struct;exports.trimmed=trimmed;exports.tuple=tuple;exports.type=type;exports.union=union;exports.unknown=unknown;exports.validate=_validate;});